<!DOCTYPE html>
<html lang="ko" class="">
  <head>
    <title>[##_page_title_##] :: [##_title_##]</title>
    <meta name="title" content="[##_page_title_##] :: [##_title_##]" />
    <meta name="description" Content="[##_desc_##]" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <link rel="alternate" type="application/rss+xml" title="[##_title_##]" href="[##_rss_url_##]" />
    <link rel="shortcut icon" href="[##_blog_link_##]favicon.ico" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <s_t3>
      <nav class="main-nav"> [##_category_list_##] </nav>
      <div id="wrap">
        <div id="sidebar">
          <div class="blank"></div>
          <h1>
            <a href="[##_blog_link_##]">[##_title_##]</a>
          </h1>
          <s_sidebar>
            <s_sidebar_element>
              <div class="widget">
                <!-- Blog Menu --> [##_blog_menu_##]
              </div>
            </s_sidebar_element>
            <s_sidebar_element>
              <!-- Notice -->
              <s_rct_notice>
                <div class="widget">
                  <ul>
                    <s_rct_notice_rep>
                      <li>
                        <a href="[##_notice_rep_link_##]">[##_notice_rep_title_##]</a>
                      </li>
                    </s_rct_notice_rep>
                  </ul>
                </div>
              </s_rct_notice>
            </s_sidebar_element>
            <s_sidebar_element>
              <div class="widget">
                <!-- Recent Comments -->
                <ul id="recentComments">
                  <s_rctrp_rep>
                    <li>
                      <a href="[##_rctrp_rep_link_##]" title="[##_rctrp_rep_name_##]〃[##_rctrp_rep_time_##]">[##_rctrp_rep_desc_##]</a>
                    </li>
                  </s_rctrp_rep>
                </ul>
              </div>
            </s_sidebar_element>
            <s_sidebar_element>
              <!-- Links -->
              <div class="widget">
                <ul>
                  <s_link_rep>
                    <li>
                      <a href="[##_link_url_##]" target="_blank">[##_link_site_##]</a>
                    </li>
                  </s_link_rep>
                </ul>
              </div>
            </s_sidebar_element>
            <s_sidebar_element>
              <!-- Counter -->
              <div class="widget counter text-center">
                <span class="yesterday">[##_count_yesterday_##]</span> / <span class="today">[##_count_today_##]</span> / <span class="total">[##_count_total_##]</span>
              </div>
            </s_sidebar_element>
            <s_sidebar_element>
              <!-- Search -->
              <div class="widget search text-center">
                <s_search>
                  <label for="[##_search_name_##]" class="screen_out">블로그 내 검색</label>
                  <input id="[##_search_name_##]" class="search" placeholder="press enter to search…" type="text" name="[##_search_name_##]" value="[##_search_text_##]" onkeypress="if (event.keyCode == 13) { [##_search_onclick_submit_##] }" />
                </s_search>
              </div>
            </s_sidebar_element>
          </s_sidebar>
          <div class="blank"></div>
        </div>
        <!--최근에 올라온 글 -->
        <s_sidebar_element>
          <section class="window" id='recent'>
            <header class="window-title"> 최근에 올라온 글 </header>
            <article class="window-body">
              <ul>
                <s_rctps_rep>
                  <li>
                    <a href="[##_rctps_rep_link_##]">[##_rctps_rep_title_##]</a>
                    <span class="cnt">[##_rctps_rep_rp_cnt_##]</span>
                    <span>[##_rctps_rep_date_##]</span>
                  </li>
                </s_rctps_rep>
              </ul>
            </article>
          </section>
        </s_sidebar_element>
        <!-- 리스트 -->
        <s_list>
          <section class="window" id='list'>
            <header class="window-title"> [##_list_conform_##] </header>
            <div class="window-body">
              <ul>
                <s_list_rep>
                  <li>
                    <a href="[##_list_rep_link_##]">[##_list_rep_title_##]</a>
                    <span class="date">[##_list_rep_regdate_##]</span>
                    <span class="cnt">[##_list_rep_rp_cnt_##]</span>
                  </li>
                </s_list_rep>
              </ul>
            </div>
          </section>
        </s_list>
        <!--태그-->
        <s_tag>
          <div id="tag" class="window">
            <div class="window-title"> Tag </div>
            <div class="window-body tag">
              <s_tag_rep>
                <a href="[##_tag_link_##]" class="[##_tag_class_##]">#[##_tag_name_##]</a>
              </s_tag_rep>
            </div>
          </div>
        </s_tag>
        <!--페이징-->
        <s_paging>
          <div id="paging" class="window">
            <div class="window-title"> Page </div>
            <div class="window-body page">
              <a [##_prev_page_##] class="prev [##_no_more_prev_##]"> PREV <span class="screen_out"> 이전 </span>
              </a>
              <s_paging_rep><a class="numbox" [##_paging_rep_link_##]>[##_paging_rep_link_num_##]</a>
              </s_paging_rep>
              <a [##_next_page_##] class="next [##_no_more_next_##]"> NEXT <span class="screen_out"> 다음 </span>
              </a>
            </div>
          </div>
        </s_paging>
        <!--방명록 -->
        <s_guest>
          <div id="guest" class="window">
            <div class="window-title"> Guestbook </div>
            <div class="window-body">
              <div class="form-wrapper">
                <s_guest_input_form>
                  <s_guest_member>
                    <s_guest_form>
                      <label for="name">NAME</label>
                      <input id="name" type="text" name="[##_guest_input_name_##]" value="[##_guest_name_##]" />
                      <label for="password">PASSWORD</label>
                      <input id="password" type="password" maxlength="8" name="[##_guest_input_password_##]" value="[##_guest_password_##]" />
                      <label for="homepage">HOMEPAGE</label>
                      <input id="homepage" type="text" name="[##_guest_input_homepage_##]" value="[##_guest_homepage_##]" />
                    </s_guest_form>
                  </s_guest_member>
                  <label class="checkbox secreat-wrapper">
                    <input type="checkbox" class="input"  name="secret" />
                    <div class="check"></div>
                    <span class="span">SECRET</span>
                  </label>
                  <textarea name="[##_guest_textarea_body_##]" cols="50" rows="6"></textarea>
                  <input type="submit" value="WRITE" onclick="[##_guest_onclick_submit_##]" />

                </s_guest_input_form>
              </div>
              <s_guest_container>
                <ol>
                  <s_guest_rep>
                    <li id='[##_guest_rep_id_##]'>
                      <div class="[##_guest_rep_class_##]">
                        <div class="info">
                          <span class="name">[##_guest_rep_name_##]</span>
                          <span class="date">[##_guest_rep_date_##]</span>
                        </div>
                        <p>[##_guest_rep_desc_##]</p>
                        <div class="control">
                          <a href="#[##_guest_rep_id_##]" class="url">#</a>
                          <a href="#" onclick="[##_guest_rep_onclick_delete_##]">Delete</a>
                          <a href="#" onclick="[##_guest_rep_onclick_reply_##]">Reply</a>
                        </div>
                      </div>
                      <s_guest_reply_container>
                        <ul>
                          <s_guest_reply_rep>
                            <li id='[##_guest_rep_id_##]'>
                              <div class="[##_guest_rep_class_##]">
                                <div class="info">
                                  <span class="name">[##_guest_rep_name_##]</span>
                                  <span class="date">[##_guest_rep_date_##]</span>
                                </div>
                                <p>[##_guest_rep_desc_##]</p>
                                <div class="control">
                                  <a href="#[##_guest_rep_id_##]" class="url">#</a>
                                  <a href="#" onclick="[##_guest_rep_onclick_delete_##]">Delete</a>
                                </div>
                              </div>
                            </li>
                          </s_guest_reply_rep>
                        </ul>
                      </s_guest_reply_container>
                    </li>
                  </s_guest_rep>
                </ol>
              </s_guest_container>
            </div>
          </div>
        </s_guest>
        <!-- 페이지 -->
        <s_page_rep>
          <section class="window" id='rep'>
            <header class="window-title">
              <h2>
                <a href="[##_article_rep_link_##]">[##_article_rep_title_##]</a>
              </h2>
              <div class="date">[##_article_rep_date_##]</div>
            </header>
            <article class="window-body">
             [##_article_rep_desc_##] 
              <div class="tag_label">
                <s_tag_label>
                  <span>[##_tag_label_rep_##]</span>
                </s_tag_label>
              </div>
            </article>
          </section>
        </s_page_rep>
        <!--local-->
        <s_local>
         <section id="local" class="window">
          <header class="window-header"> Local </header>
          <article class="window-body">
            <s_local_spot_rep>
              <div class="spot" style="margin-left: [##_local_spot_depth_##]px">[##_local_spot_##]</div>
            </s_local_spot_rep>
            <s_local_info_rep>
              <div class="info" style="margin-left: [##_local_info_depth_##]px">
                <a href="[##_local_info_link_##]">[##_local_info_title_##]</a>
              </div>
            </s_local_info_rep>
          </article>
         </section>
        </s_local>
        <!--notice-->
        <s_notice_rep>
          <section id="notice" class="window">
            <header class="window-header">
              <h2>
                <a href="[##_article_rep_link_##]">[##_notice_rep_title_##]</a>
              </h2>
              <div class="date">[##_notice_rep_date_##]</div>
            </header>
            <article class="window-body">
              <div class="tag_label">
                <s_tag_label>
                  <span>[##_tag_label_rep_##]</span>
                </s_tag_label>
              </div>
              <div class="article"> [##_notice_rep_desc_##] </div>
            </article>
          </section>
        </s_notice_rep>
        <!--protect-->
        <s_article_protected>
          <section id="protected" class="window">
            <header class="window-header">
              <h2>
                <a href="[##_article_rep_link_##]">[##_article_rep_title_##]</a>
              </h2>
              <div class="date">[##_article_rep_date_##]</div>
            </header>
            <article class="window-body">
              <p>
                <i class="icon-unlock-alt"></i>
              </p>
              <p>
                <input type="password" maxlength="30" id="[##_article_password_##]" name="[##_article_password_##]" value="" onkeydown="if (event.keyCode == 13)[##_article_dissolve_##]" />
              </p>
              <p>
                <input type="button" class="submit" value="Unlock" onclick="[##_article_dissolve_##]" />
              </p>
            </article>
          </section>
        </s_article_protected>
        <section id="content" class="window">
          
          <s_article_rep>
            <section class="window" id="article-[##_article_rep_id_##]">
              <header class="window-title">
                <span>[##_article_rep_title_##]</span>
                <span class="date">[##_article_rep_date_##]</span>
              </header>
              <article class="window-body">
                [##_article_rep_desc_##]
                  <s_ad_div>
                    <div class="admin">
                      <a href="[##_s_ad_m_link_##]">Modify</a>
                      <span class="line">|</span>
                      <a href="#" onclick="[##_s_ad_d_onclick_##]">Delete</a>
                    </div>
                  </s_ad_div>
                  <hr/>
                  <div class="tag_label">
                    <s_tag_label>
                      <span>#[##_tag_label_rep_##]</span>
                    </s_tag_label>
                  </div>
                  <hr/>
                  <s_rp>
                    <div id="communicate">
                      <s_rp_container>
                        <div class="communicateList">
                          <ol>
                            <s_rp_rep>
                              <li id='[##_rp_rep_id_##]'>
                                <div class="[##_rp_rep_class_##]">
                                  <div class="info">
                                    <span class="name">[##_rp_rep_name_##]</span>
                                    <span class="date">[##_rp_rep_date_##]</span>
                                  </div>
                                  <p>[##_rp_rep_desc_##]</p>
                                  <div class="control">
                                    <a href="[##_rp_rep_link_##]" class="url">#</a>
                                    <a href="#" onclick="[##_rp_rep_onclick_delete_##]" class="modify">Delete</a>
                                    <a href="#" onclick="[##_rp_rep_onclick_reply_##]" class="write">Reply</a>
                                  </div>
                                </div>
                                <s_rp2_container>
                                  <ul>
                                    <s_rp2_rep>
                                      <li id='[##_rp_rep_id_##]'>
                                        <div class="[##_rp_rep_class_##]">
                                          <div class="info">
                                            <span class="name">[##_rp_rep_name_##]</span>
                                            <span class="date">[##_rp_rep_date_##]</span>
                                          </div>
                                          <p>[##_rp_rep_desc_##]</p>
                                          <div class="control">
                                            <a href="[##_rp_rep_link_##]" class="url">#</a>
                                            <a href="#" onclick="[##_rp_rep_onclick_delete_##]" class="modify">Delete</a>
                                          </div>
                                        </div>
                                      </li>
                                    </s_rp2_rep>
                                  </ul>
                                </s_rp2_container>
                              </li>
                            </s_rp_rep>
                          </ol>
                        </div>
                      </s_rp_container>
                      
                      <div class="form-wrapper">  
                        <s_rp_input_form>
                          <s_rp_member>
                            <s_rp_guest>
                              <label for="name">NAME</label>
                              <input id="name" type="text" name="[##_rp_input_name_##]" value="[##_guest_name_##]" />
                              <label for="password">PASSWORD</label>
                              <input id="password" type="password" maxlength="8" name="[##_rp_input_password_##]" value="[##_rp_admin_check_##]" />
                              <label for="homepage">HOMEPAGE</label>
                              <input id="homepage" type="text" name="[##_rp_input_homepage_##]" value="[##_guest_homepage_##]" />
                            </s_rp_guest>
                          </s_rp_member>
                          <label class="checkbox secreat-wrapper">
                              <input type="checkbox" class="input"  name="[##_rp_input_is_secret_##]" />
                              <div class="check"></div>
                              <span class="span">SECRET</span>
                          </label>
                          <textarea name="[##_rp_input_comment_##]" cols="50" rows="6"></textarea>
                          <input type="submit" value="WRITE" onclick="[##_rp_onclick_submit_##]" />
                        </s_rp_input_form>
                      </div>
                    </div>
                  </s_rp>
              </article>
            </section>
          </s_article_rep>
      </div>
      </div>
    </s_t3>
    <script>
      //IIFE
      (function() {
        let isClicked = false;
        let preClickedElement = null;
        // 이벤트 넣어줌 
        [...document.getElementsByClassName("window")].forEach(i => {
          const header = [...i.children].find(j => j.className === "window-title");

          if (header) {
            // close button
            const newButton = document.createElement("button");
            newButton.className = "close";
            newButton.addEventListener("click",()=>{
              document.getElementById(i.id).style.display="none"
            });
            newButton.innerText = "X";
            header.append(newButton);

            i.addEventListener("mousemove", (event) => {
              if (!isClicked) {
                return;
              }
              const [, x, y] = i.style.transform?.match(/(-?\d+)[px,\s]+(-?\d+)/) ?? [null, "0", "0"];
              i.style.transform = `translate(${parseInt(x)+event.movementX}px, ${parseInt(y)+event.movementY}px)`;
              localStorage.setItem("move_" + i.id, i.style.transform);
            });
            i.addEventListener("mouseleave", () => {
              if (isClicked) {
                isClicked = false;
                preClickedElement = i;
              }
            })
            header.addEventListener("mouseup", () => {
              if (isClicked) {
                isClicked = false;
                preClickedElement = i;
              }
            });
            header.addEventListener("mousedown", () => {
              isClicked = true;
              preClickedElement.style.zIndex = 7;
              i.style.zIndex = 9;
            });
          }
        })
        Object.keys(localStorage).forEach(i => {
          const regex = i.match(/^move_([\w-]+)/);
          if (regex && regex[1]) {
            const ele = document.getElementById(regex[1]);
            if (ele) {
              const transform = localStorage.getItem("move_" + regex[1]);
              ele.style.transform = transform;
            }
          }
        })
      })()
    </script>
  </body>
</html>